{"version":3,"sources":["components/Searchbar/Searchbar.jsx","services/pictures-api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/LoadMoreBtn/LoadMoreBtn.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","Component","searchQuery","currentPage","axios","get","then","response","data","hits","ImageGalleryItem","url","alt","src","ImageGallery","pictures","openModal","map","id","webformatURL","tags","largeImageURL","onClick","LoadMoreBtn","modalRoot","document","getElementById","Modal","handleKeyDown","code","handleBackdrop","target","window","addEventListener","removeEventListener","createPortal","children","App","isLoading","showModal","onChangeQuery","fetchPictures","options","api","picturesData","prevState","catch","error","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","img","prevProps","length","color","largeImage","width","height","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e53bd78b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nclass Searchbar extends Component {\r\n\r\n\tstate = {\r\n\t\tquery: '',\r\n\t\t\t\r\n\t}\r\n\t\r\n\thandleChange = event => {\r\n\t\tthis.setState({ query: event.currentTarget.value  });\r\n\t}\r\n\r\n\thandleSubmit = event => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit(this.state.query)\r\n\t}\r\n\r\n\t\r\n\trender() { \r\n\t\treturn (\r\n\t\t\t<header className=\"Searchbar\">\r\n\t\t\t\t<form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className=\"SearchForm-button\"></button>\r\n\t\t\t\t\t<input value={this.state.query} type=\"text\" className=\"SearchForm-input\" onChange={ this.handleChange}/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t );\r\n\t}\r\n}\r\n \r\nexport default Searchbar;","import axios from 'axios';\r\n\r\n// 20659518-d870fa33769225566579aec48;\r\n// https://pixabay.com/api/?key=20659518-d870fa33769225566579aec48&q=yellow+flowers&image_type=photo\r\n//\r\nconst fetchPictures = ({ searchQuery, currentPage }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=20659518-d870fa33769225566579aec48&q=${searchQuery}&image_type=photo&per_page=12&page=${currentPage}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\nexport default { fetchPictures };\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ url, alt }) => {\r\n\treturn (\r\n\t\t<img src={url}\r\n\t\talt={alt} className=\"ImageGalleryItem-image\" />\r\n\t );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n\turl: PropTypes.string.isRequired,\r\n\talt: PropTypes.string.isRequired,\r\n}\r\n \r\nexport default ImageGalleryItem;\r\n\r\n","import ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nconst ImageGallery = ({ pictures, openModal }) => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t<ul className=\"ImageGallery\">\r\n\t\t\t\t{pictures.map(({ id, webformatURL, tags, largeImageURL }) => {\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t<li className=\"ImageGalleryItem\" key={id} onClick={() => openModal(largeImageURL) }>\r\n\t\t\t\t\t<ImageGalleryItem url={webformatURL} alt={tags} />\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t\t})}\t\r\n  \r\n\t\t</ul>\r\n\t\t\t\r\n\t\t\t{/* <button type='button' onClick={this.fetchPictures}>Load more</button> */}\r\n\t\t\t</>\r\n\t);\r\n}\r\n \r\nexport default ImageGallery;","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({onClick}) => {\r\n\treturn (\r\n\t\t<button type='button' onClick={onClick} className=\"Button\">Load more</button>\r\n\t)\r\n}\r\n\r\nexport default LoadMoreBtn;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nconst modalRoot = document.getElementById('modal-root')\r\n\r\nclass Modal extends Component {\r\n\t// state = {\r\n\t// \t// showModal: false,\r\n\t// }\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('keydown', this.handleKeyDown)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t window.removeEventListener('keydown', this.handleKeyDown) \r\n\t}\r\n\thandleKeyDown = (event) => {\r\n\t\tif (event.code === 'Escape') {\r\n\t\t\tthis.props.openModal()\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\thandleBackdrop = (event) => {\r\n\t\tif (event.currentTarget === event.target) {\r\n\t\t\tthis.props.openModal()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\t\t\r\n\t\treturn createPortal (\r\n\t\t\t<div className=\"Overlay\" onClick={this.handleBackdrop}>\r\n\t\t\t\t<div className=\"Modal\" >\r\n\t\t\t\t\t{this.props.children}\r\n    \t\t</div>\r\n\t\t\t</div>, modalRoot\r\n\t\t\t\r\n\t\t );\r\n\t}\r\n}\r\n \r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport api from './services/pictures-api';\nimport ImageGallery from './components/ImageGallery';\nimport LoadMoreBtn from './components/LoadMoreBtn';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    pictures: [],\n    currentPage: 1,\n    isLoading: false,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      pictures: [],\n    });\n  };\n\n  fetchPictures = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    api\n      .fetchPictures(options)\n      .then(picturesData =>\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...picturesData],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch(error => console.log(error))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        if (currentPage > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n\n  toggleModal = img => {\n    console.log('img', img);\n    this.setState(({ showModal, largeImageURL, tags }) => ({\n      showModal: !showModal,\n      largeImageURL: img,\n      tags: tags,\n    }));\n  };\n\n  render() {\n    const { showModal, largeImageURL, tags } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery\n          pictures={this.state.pictures}\n          openModal={this.toggleModal}\n        />\n        {this.state.pictures.length !== 0 && !this.state.isLoading && (\n          <LoadMoreBtn onClick={this.fetchPictures} />\n        )}\n        {this.state.isLoading && (\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" className=\"Loader\" />\n        )}\n        {showModal && (\n          <Modal\n            openModal={this.toggleModal}\n            largeImage={largeImageURL}\n            tags={tags}\n          >\n            <img\n              width=\"100%\"\n              height=\"100%\"\n              src={this.state.largeImageURL}\n              alt={this.state.tags}\n            />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}